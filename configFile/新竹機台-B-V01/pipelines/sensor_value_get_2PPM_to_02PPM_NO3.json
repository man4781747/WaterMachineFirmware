{
    "title": "使用2PPM標準液稀釋成0.2PPM測亞硝數值",
    "desp": "--",
    "tag": [
        "校正",
        "池1"
    ],
    "events": {
        "Reset_All_PWM_Motor": {
            "title": "伺服馬達全數歸位",
            "desp": "",
            "event": [
                {
                    "pwm_motor_list": [
                        {"index": 1,"status": 90},
                        {"index": 2,"status": 90},
                        {"index": 3,"status": 90},
                        {"index": 4,"status": 90},
                        {"index": 5,"status": 90},
                        {"index": 6,"status": 90},
                        {"index": 7,"status": 90},
                        {"index": 8,"status": 90},
                        {"index": 9,"status": 90},
                        {"index": 10,"status": 90},
                        {"index": 11,"status": 90},
                        {"index": 12,"status": 90},
                        {"index": 13,"status": 90},
                        {"index": 14,"status": 90},
                        {"index": 15,"status": 90}
                    ]
                }
            ]
        },
        "Clear_NO3_SensorRoom_To_MixRoom": {
            "title": "清空NO3光度檢測模組",
            "desp": "",
            "event": [
                {
                    "pwm_motor_list": [
                        {"index": 7,"status": 180},
                        {"index": 9,"status": 90},
                        {"index": 10,"status": 0}
                    ]
                },
                {
                    "peristaltic_motor_list": [
                        {"index": 3,"status": -1,"time": 13,"until": "-"}
                    ]
                },
                {
                    "pwm_motor_list": [
                        {"index": 10,"status": 90}
                    ]
                }
            ]
        },
        "Clear_MixRoom_40sec": {
            "title": "清空混和室40秒",
            "desp": "",
            "event": [
                {
                    "pwm_motor_list": [
                        {"index": 7,"status": 0}
                    ]
                },
                {
                    "peristaltic_motor_list": [
                        {"index": 3,"status": 1,"time": 40,"until": "-"}
                    ]
                }
            ]
        },
        "GetPoolSimple": {
            "title": "抽取池水",
            "desp": "",
            "event": [
                {
                    "pwm_motor_list": [
                        {"index": 11,"status": 0}
                    ]
                },
                {
                    "peristaltic_motor_list": [
                        {"index": 0,"status": 1,"time": 120,"until": "SAMPLE","failType": "timeout","failAction": "stopPipeline"}
                    ]
                }
            ]
        },
        "GetRO": {
            "title": "抽取RO水",
            "desp": "",
            "event": [
                {
                    "peristaltic_motor_list": [
                        {"index": 1,"status": 1,"time": 180,"until": "RO","failType": "timeout","failAction": "stopPipeline"}
                    ]
                }
            ]
        },
        "FORWASH_Push_RO_Liquid_To_MixRoom": {
            "title": "[清洗用] 抽取RO水 (40秒) 至混合室",
            "desp": "",
            "event": [
                {
                    "pwm_motor_list": [
                        {"index": 1,"status": 90},
                        {"index": 2,"status": 90},
                        {"index": 3,"status": 90},
                        {"index": 4,"status": 90},
                        {"index": 5,"status": 90},
                        {"index": 6,"status": 180}
                    ]
                },
                {
                    "peristaltic_motor_list": [
                        {"index": 4,"status": 1,"time": 40,"until": "-"}
                    ]
                },
                {
                    "pwm_motor_list": [
                        {"index": 6,"status": 90}
                    ]
                },
                {
                    "peristaltic_motor_list": [
                        {"index": 4,"status": 1,"time": 10,"until": "-"}
                    ]
                }
            ]
        },
        "Push_MixRoom_To_NO3_SensorRoom": {
            "title": "抽取混合室溶液至亞硝酸鹽光度檢測室",
            "desp": "",
            "event": [
                {
                    "pwm_motor_list": [
                        {"index": 7,"status": 180},
                        {"index": 9,"status": 90},
                        {"index": 10,"status": 0}
                    ]
                },
                {
                    "peristaltic_motor_list": [
                        {"index": 3,"status": 1,"time": 5,"until": "-"}
                    ]
                },
                {
                    "peristaltic_motor_list": [
                        {"index": 3,"status": 1,"time": 1,"until": "-"}
                    ]
                },
                {
                    "peristaltic_motor_list": [
                        {"index": 3,"status": -1,"time": 0.5,"until": "-"}
                    ]
                },
                {
                    "peristaltic_motor_list": [
                        {"index": 3,"status": 1,"time": 1,"until": "-"}
                    ]
                },
                {
                    "peristaltic_motor_list": [
                        {"index": 3,"status": -1,"time": 0.5,"until": "-"}
                    ]
                },
                {
                    "peristaltic_motor_list": [
                        {"index": 3,"status": 1,"time": 1,"until": "-"}
                    ]
                },
                {
                    "peristaltic_motor_list": [
                        {"index": 3,"status": -1,"time": 0.5,"until": "-"}
                    ]
                },
                {
                    "peristaltic_motor_list": [
                        {"index": 3,"status": 1,"time": 1,"until": "-"}
                    ]
                },
                {
                    "peristaltic_motor_list": [
                        {"index": 3,"status": -1,"time": 0.5,"until": "-"}
                    ]
                },
                {
                    "peristaltic_motor_list": [
                        {"index": 3,"status": 1,"time": 1,"until": "-"}
                    ]
                },
                {
                    "peristaltic_motor_list": [
                        {"index": 3,"status": -1,"time": 0.5,"until": "-"}
                    ]
                },
                {
                    "peristaltic_motor_list": [
                        {"index": 3,"status": 1,"time": 1,"until": "-"}
                    ]
                },
                {
                    "peristaltic_motor_list": [
                        {"index": 3,"status": -1,"time": 0.5,"until": "-"}
                    ]
                },
                {
                    "peristaltic_motor_list": [
                        {"index": 3,"status": 1,"time": 1,"until": "-"}
                    ]
                },
                {
                    "peristaltic_motor_list": [
                        {"index": 3,"status": -1,"time": 0.5,"until": "-"}
                    ]
                },
                {
                    "peristaltic_motor_list": [
                        {"index": 3,"status": 1,"time": 1,"until": "-"}
                    ]
                },
                {
                    "peristaltic_motor_list": [
                        {"index": 3,"status": -1,"time": 0.5,"until": "-"}
                    ]
                },
                {
                    "peristaltic_motor_list": [
                        {"index": 3,"status": 1,"time": 1,"until": "-"}
                    ]
                },
                {
                    "peristaltic_motor_list": [
                        {"index": 3,"status": -1,"time": 0.5,"until": "-"}
                    ]
                },
                {
                    "peristaltic_motor_list": [
                        {"index": 3,"status": 1,"time": 1,"until": "-"}
                    ]
                },
                {
                    "peristaltic_motor_list": [
                        {"index": 3,"status": -1,"time": 0.5,"until": "-"}
                    ]
                }
            ]
        },
        "NO3_Wash_Value_Get": {
            "title": "[檢測-清洗] 亞硝酸鹽清洗數值獲得",
            "desp": "測量純水光強度，並調整靠近50000",
            "event": [
                {
                    "spectrophotometer_list": [
                        {
                            "index": 1,
                            "gain": "96X",
                            "channel": "CH1",
                            "value_name": "NO2_wash_volt",
                            "pool": "pool-1",
                            "type": "Adjustment",
                            "target": 50000,
                            "failAction": "continue"
                        }
                    ]
                }
            ]
        },
        "NO3_Test_Value_Get": {
            "title": "[檢測-亞硝酸鹽] 亞硝酸鹽量測數值獲得",
            "desp": "亞硝酸鹽量測數值獲得",
            "event": [
                {
                    "spectrophotometer_list": [
                        {
                            "index": 1,
                            "gain": "96X",
                            "channel": "CH1",
                            "value_name": "NO2_test_volt",
                            "pool": "pool-1",
                            "type": "Measurement",
                            "dilution": 10,
                            "max": 55000,
                            "min": 5000,
                            "failAction": "continue"
                        }
                    ]
                }
            ]
        },
        "Mix_Liquid_In_MixRoom": {
            "title": "混合混合室的液體 (20秒)",
            "desp": "",
            "event": [
                {
                    "pwm_motor_list": [
                        {"index": 7,"status": 180},
                        {"index": 9,"status": 90},
                        {"index": 10,"status": 90}
                    ]
                },
                {
                    "peristaltic_motor_list": [
                        {"index": 3,"status": -1,"time": 20,"until": "-"}
                    ]
                }
            ]
        },
        "Wait_5_Min": {
            "title": "等待5分鐘成色",
            "desp": "",
            "event": [
                {
                    "wait": 300
                }
            ]
        },
        "FORNO3_Push_RO_Liquid_To_MixRoom": {
            "title": "[檢測-亞硝酸鹽] 抽取RO水(22.5秒)至混合室",
            "desp": "",
            "event": [
                {
                    "pwm_motor_list": [
                        {"index": 1,"status": 90},
                        {"index": 2,"status": 90},
                        {"index": 3,"status": 90},
                        {"index": 4,"status": 90},
                        {"index": 5,"status": 90},
                        {"index": 6,"status": 180}
                    ]
                },
                {
                    "peristaltic_motor_list": [
                        {"index": 4,"status": 1,"time": 22.5,"until": "-"}
                    ]
                },
                {
                    "pwm_motor_list": [
                        {"index": 6,"status": 90}
                    ]
                },
                {
                    "peristaltic_motor_list": [
                        {"index": 4,"status": 1,"time": 10,"until": "-"}
                    ]
                }
            ]
        },
        "FORNO3_Push_Sample_Liquid_To_MixRoom": {
            "title": "[檢測-亞硝酸鹽] 抽取池水(2.5秒)至混合室",
            "desp": "",
            "event": [
                {
                    "pwm_motor_list": [
                        {"index": 1,"status": 90},
                        {"index": 2,"status": 90},
                        {"index": 3,"status": 90},
                        {"index": 4,"status": 90},
                        {"index": 5,"status": 180}
                    ]
                },
                {
                    "peristaltic_motor_list": [
                        {"index": 4,"status": 1,"time": 2.5,"until": "-"}
                    ]
                },
                {
                    "pwm_motor_list": [
                        {"index": 5,"status": 90}
                    ]
                },
                {
                    "peristaltic_motor_list": [
                        {"index": 4,"status": 1,"time": 10,"until": "-"}
                    ]
                }
            ]
        },
        "Push_NO2_Liquid_To_MixRoom": {
            "title": "[檢測-亞硝酸鹽] 抽取亞硝酸鹽R1(1秒)至混合室",
            "desp": "",
            "event": [
                {
                    "pwm_motor_list": [
                        {"index": 2,"status": 180},
                        {"index": 1,"status": 90}
                    ]
                },
                {
                    "peristaltic_motor_list": [
                        {"index": 4,"status": 1,"time": 1,"until": "-"}
                    ]
                },
                {
                    "pwm_motor_list": [
                        {"index": 2,"status": 90}
                    ]
                },
                {
                    "peristaltic_motor_list": [
                        {"index": 4,"status": 1,"time": 10,"until": "-"}
                    ]
                }
            ]
        }
    },
    "steps_group": {
        "Clear_All_Path": {
            "title": "儀器初始化",
            "desp": "馬達回歸原點，清空檢測模組、混合室、主管道",
            "steps": [
                "Reset_All_PWM_Motor",
                "Clear_NO3_SensorRoom_To_MixRoom",
                "Clear_MixRoom_40sec",
                "Clear_MixRoom_40sec"
            ]
        },
        "Before_1st_No3Check_GetPoolSimple": {
            "title": "亞硝檢測前-第一次-抽取池水樣本",
            "desp": "",
            "steps": [
                "GetPoolSimple"
            ]
        },
        "Before_1st_No3Check_GetROWater": {
            "title": "亞硝檢測前-第一次-抽取RO水",
            "desp": "",
            "steps": [
                "GetRO"
            ]
        },
        "Before_1st_No3Check_WashAllPathWithRO": {
            "title": "第一次-RO水清洗儀器",
            "desp": "",
            "trigger": "allSuccess",
            "steps": [
                "Reset_All_PWM_Motor",
                "FORWASH_Push_RO_Liquid_To_MixRoom",
                "Push_MixRoom_To_NO3_SensorRoom",
                "Clear_NO3_SensorRoom_To_MixRoom",
                "Clear_NH4_SensorRoom_To_MixRoom",
                "Clear_MixRoom_40sec",
                "Clear_MixRoom_40sec"
            ]
        },
        "Before_1st_No3Check_GetPoolSimple_2": {
            "title": "亞硝檢測前-第二次-抽取池水樣本",
            "same": "Before_1st_No3Check_GetPoolSimple"
        },
        "Before_1st_No3Check_GetROWater_2": {
            "title": "亞硝檢測前-第二次-抽取RO水",
            "same": "Before_1st_No3Check_GetROWater"
        },
        "Before_1st_No3Check_WashAllPathWithRO_2": {
            "same": "Before_1st_No3Check_WashAllPathWithRO",
            "trigger": "allSuccess",
            "title": "亞硝檢測前-第二次-RO水清洗儀器"
        },
        "Before_1st_No3Check_GetPoolSimple_3": {
            "title": "亞硝檢測前-第三次-抽取池水樣本",
            "same": "Before_1st_No3Check_GetPoolSimple"
        },
        "Before_1st_No3Check_GetROWater_3": {
            "title": "亞硝檢測前-第三次-抽取RO水",
            "same": "Before_1st_No3Check_GetROWater"
        },
        "NO3_ValueGet": {
            "title": "1PPM亞硝酸鹽檢測",
            "desp": "",
            "trigger": "allSuccess",
            "steps": [
                "Reset_All_PWM_Motor",
                "FORNO3_Push_Sample_Liquid_To_MixRoom",
                "FORNO3_Push_RO_Liquid_To_MixRoom",
                "Mix_Liquid_In_MixRoom",
                "Push_MixRoom_To_NO3_SensorRoom",
                "NO3_Wash_Value_Get",
                "Clear_NO3_SensorRoom_To_MixRoom",
                "Push_NO2_Liquid_To_MixRoom",
                "Mix_Liquid_In_MixRoom",
                "Wait_5_Min",
                "Push_MixRoom_To_NO3_SensorRoom",
                "NO3_Test_Value_Get",
                "Clear_NO3_SensorRoom_To_MixRoom",
                "Clear_MixRoom_40sec"
            ]
        }
    },
    "pipline": [
        ["Clear_All_Path",["Before_1st_No3Check_GetPoolSimple","Before_1st_No3Check_GetROWater"]],
        ["Before_1st_No3Check_GetPoolSimple",["Before_1st_No3Check_WashAllPathWithRO"]],
        ["Before_1st_No3Check_GetROWater",["Before_1st_No3Check_WashAllPathWithRO"]],
        ["Before_1st_No3Check_WashAllPathWithRO",["Before_1st_No3Check_GetPoolSimple_2","Before_1st_No3Check_GetROWater_2"]],
        ["Before_1st_No3Check_GetPoolSimple_2",["Before_1st_No3Check_WashAllPathWithRO_2"]],
        ["Before_1st_No3Check_GetROWater_2",["Before_1st_No3Check_WashAllPathWithRO_2"]],
        ["Before_1st_No3Check_WashAllPathWithRO_2",["Before_1st_No3Check_GetPoolSimple_3","Before_1st_No3Check_GetROWater_3"]],
        ["Before_1st_No3Check_GetPoolSimple_3",["NO3_ValueGet"]],
        ["Before_1st_No3Check_GetROWater_3",["NO3_ValueGet"]]
    ]
}